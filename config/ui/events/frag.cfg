event_frag_classic = [
    uiimage $deadtex 0xFFFFFF 0 0 $ui_hud_texttiny [ uistyle leftmiddle; uiimageaspect 1; uiimageshadow 0.001 0x20202020 1 ]
    uitext (geteventlist $event_id "args" "console") $ui_texttiny [
        uistyle leftmiddle
        uitextalign -1
        uicolourset $event_concolour
    ]
]

event_frag_normal = [
    uiimage $deadtex 0xFFFFFF 0 0 $ui_hud_texttiny [ uistyle leftmiddle; uiimageaspect 1; uiimageshadow 0.001 0x20202020 1 ]
    local event_this event_self event_extra event_textsize event_weap event_context event_style event_actflags

    event_this = (geteventtag $event_id "client" 0 "clientnum")
    event_self = (= $event_this (geteventtag $event_id "client" 1 "clientnum"))
    event_extra = 0
    event_textsize = $ui_texttiny
    event_weap = (geteventlist $event_id "args" "weapon")
    event_context = (geteventlist $event_id "args" "context")
    event_style = (geteventlist $event_id "args" "style")
    event_actflags = (geteventlist $event_id "args" "actflags")

    loopeventgroups $event_id "client" 0 0 event_client [
        if $event_client [
            if $event_extra [
                uitext "+" $event_textsize [
                    uistyle leftmiddle
                    uitextalign -1
                    uicolourset $colourgrey
                ]
            ]

            uitext (geteventname $event_id "client" $event_client) $event_textsize [
                uistyle leftmiddle
                uitextalign -1
                if $event_extra [ uicolourscale 0xA0A0A0 ]
            ]

            if (! $event_extra) [
                event_extra = 1
                event_textsize = (*f $ui_texttiny 0.75)
            ]
        ]
    ]

    if (>= $event_weap 0) [
        local event_weapon
        event_weapon = (at $W_NAMES $event_weap)
        uiimage $[@[event_weapon]tex] $[@[event_weapon]colour] 0 0 $ui_hud_texttiny [
            uistyle leftmiddle
            uiimageaspect 1
            if (& $event_actflags $HIT_ALT) [
                uiimageshadow 0.001 0x01FF0000 1
            ] [
                uiimageshadow 0.001 0x0100FF00 1
            ]
        ]
    ] [
        if (geteventlist $event_id "args" "burnfunc") [
            uiimage $burntex (pulsecolour $PULSE_BURN) 0 0 $ui_hud_texttiny [ uistyle leftmiddle; uiimageaspect 1; uiimageshadow 0.001 0x20202020 1 ]
        ]
        if (geteventlist $event_id "args" "bleedfunc") [
            uiimage $bleedtex (pulsecolour $PULSE_BLEED) 0 0 $ui_hud_texttiny [ uistyle leftmiddle; uiimageaspect 1; uiimageshadow 0.001 0x20202020 1 ]
        ]
        if (geteventlist $event_id "args" "shockfunc") [
            uiimage $shocktex (pulsecolour $PULSE_SHOCK) 0 0 $ui_hud_texttiny [ uistyle leftmiddle; uiimageaspect 1; uiimageshadow 0.001 0x20202020 1 ]
        ]
        if (geteventlist $event_id "args" "corrodefunc") [
            uiimage $corrodetex (pulsecolour $PULSE_CORRODE) 0 0 $ui_hud_texttiny [ uistyle leftmiddle; uiimageaspect 1; uiimageshadow 0.001 0x20202020 1 ]
        ]
    ]

    if (!=s $event_context "") [
        uitext $event_context (*f $ui_texttiny 0.75) [
            uistyle leftmiddle
            uitextalign -1
        ]
    ]

    if $event_self [
        uiimage $warningtex (pulsecolour $PULSE_WARN) 0 0 $ui_hud_texttiny [ uistyle leftmiddle; uiimageaspect 1; uiimageshadow 0.001 0x20202020 1 ]
    ] [
        if (&& (! (& $mutators (<< 1 $G_M_FFA))) (= (geteventtag $event_id "client" 0 "team") (geteventtag $event_id "client" 1 "team"))) [
            uiimage $warningtex (pulsecolour $PULSE_WARN) 0 0 $ui_hud_texttiny [ uistyle leftmiddle; uiimageaspect 1; uiimageshadow 0.001 0x20202020 1 ]
        ]

        uitext (geteventname $event_id "client" 0) $ui_texttiny [
            uistyle leftmiddle
            uitextalign -1
        ]
    ]

    if $event_style [
        if (& $event_style $FRAG_HEADSHOT) [
            uitext "[HEADSHOT]" (*f $ui_texttiny 0.65) [
                uistyle leftmiddle
                uitextalign -1
                uicolourset (skewcolour 0xFF6666 (pulsecolour $PULSE_WARN) 0.5)
            ]
        ]

        if (& $event_style $FRAG_REVENGE) [
            uitext "[REVENGE]" (*f $ui_texttiny 0.65) [
                uistyle leftmiddle
                uitextalign -1
                uicolourset (skewcolour 0x6666FF (pulsecolour $PULSE_WARN) 0.5)
            ]
        ]

        if (& $event_style $FRAG_DOMINATE) [
            uiimage $dominatedtex (pulsecolour $PULSE_DISCO) 0 0 $ui_hud_texttiny [
                uistyle leftmiddle
                uiimageaspect 1
            ]
        ]

        if (& $event_style $FRAG_BREAKER) [
            uitext "[SPREE BREAKER]" (*f $ui_texttiny 0.65) [
                uistyle leftmiddle
                uitextalign -1
                uicolourset (skewcolour 0xFF00FF (pulsecolour $PULSE_WARN) 0.5)
            ]
        ]

        if (& $event_style $FRAG_MKILL1) [
            uitext "[x2]" (*f $ui_texttiny 0.75) [
                uistyle leftmiddle
                uitextalign -1
                uicolourset (skewcolour 0xFFFF00 (pulsecolour $PULSE_BUFF) 0.5)
            ]
        ]

        if (& $event_style $FRAG_MKILL2) [
            uitext "[x2]" (*f $ui_texttiny 0.75) [
                uistyle leftmiddle
                uitextalign -1
                uicolourset (skewcolour 0x00FFFF (pulsecolour $PULSE_BUFF) 0.5)
            ]
        ]

        if (& $event_style $FRAG_MKILL3) [
            uitext "[x3]" (*f $ui_texttiny 0.75) [
                uistyle leftmiddle
                uitextalign -1
                uicolourset (skewcolour 0x44FF44 (pulsecolour $PULSE_BUFF) 0.5)
            ]
        ]

        if (& $event_style $FRAG_FIRSTBLOOD) [
            uitext "[FIRST BLOOD]" (*f $ui_texttiny 0.65) [
                uistyle leftmiddle
                uitextalign -1
                uicolourset (pulsecolour $PULSE_BLEED)
            ]
        ]

        if (& $event_style $FRAG_SPREE1) [
            uitext "[CARNAGE]" (*f $ui_texttiny 0.65) [
                uistyle leftmiddle
                uitextalign -1
                uicolourset (skewcolour 0xFF8800 (pulsecolour $PULSE_BLEED) 0.5)
            ]
        ]

        if (& $event_style $FRAG_SPREE2) [
            uitext "[SLAUGHTER]" (*f $ui_texttiny 0.65) [
                uistyle leftmiddle
                uitextalign -1
                uicolourset (skewcolour 0xFF8800 (pulsecolour $PULSE_BLEED) 0.5)
            ]
        ]

        if (& $event_style $FRAG_SPREE3) [
            uitext "[MASSACRE]" (*f $ui_texttiny 0.65) [
                uistyle leftmiddle
                uitextalign -1
                uicolourset (skewcolour 0xFF8800 (pulsecolour $PULSE_BLEED) 0.5)
            ]
        ]

        if (& $event_style $FRAG_SPREE4) [
            uitext "[BLOODBATH]" (*f $ui_texttiny 0.65) [
                uistyle leftmiddle
                uitextalign -1
                uicolourset (skewcolour 0xFF8800 (pulsecolour $PULSE_DISCO) 0.5)
            ]
        ]
    ]

    if (& $event_actflags $HIT_PRIZE) [
        uitext "[PRIZE WINNER]" (*f $ui_texttiny 0.65) [
            uistyle leftmiddle
            uitextalign -1
            uicolourset (pulsecolour $PULSE_DISCO)
        ]
    ]
]
