deffvarp defendaboveblend $fvaridxnonzero 1 1

dynui defendabove [
    local defend_presence
    defend_presence = (getdefendnum $uiarg1)
    if (>= $defend_presence 0) [
        uiallowinput 0
        uimenu 0
        uizindex -1 // draw behind other stuff on this surface
        uistyle centertop

        local defend_opacity
        defend_opacity = 1.0
        // nothing yet
        uipropagate [ uicolourblend (*f $defendaboveblend $defend_opacity) ]
    ] [ hideui $uiname $uisurfacetype ]
]

dynui defendoverlay []