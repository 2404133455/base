deffvarp captureaboveblend $fvaridxnonzero 1 1

dynui captureabove [
    uiallowinput 0
    uimenu 0
    uizindex -1 // draw behind other stuff on this surface
    uistyle centertop

    local capture_presence
    capture_presence = (getcapturenum $uiarg1)
    if (>= $capture_presence 0) [
        local capture_opacity
        capture_opacity = 1.0
        uitext $uiarg1
        uipropagate [ uicolourblend (*f $captureaboveblend $capture_opacity) ]
    ] [ hideui $uiname $uisurfacetype ]
]

dynui captureoverlay [
    uiallowinput 0
    uimenu 0
    uizindex -1 // draw behind other stuff on this surface
    uistyle centermiddle

    local capture_presence
    capture_presence = (getcapturenum $uiarg1)
    if (>= $capture_presence 0) [
        local capture_opacity
        capture_opacity = 1.0
        uitext $uiarg1
        uipropagate [ uicolourblend (*f $captureaboveblend $capture_opacity) ]
    ] [ hideui $uiname $uisurfacetype ]
]

deffvarp captureflagaboveblend $fvaridxnonzero 1 1

dynui captureflagabove [
    uiallowinput 0
    uimenu 0
    uizindex -1 // draw behind other stuff on this surface
    uistyle centertop

    local capture_presence
    capture_presence = (getcapturenum $uiarg1)
    if (>= $capture_presence 0) [
        local capture_opacity
        capture_opacity = 1.0
        uitext $uiarg1
        uipropagate [ uicolourblend (*f $captureflagaboveblend $capture_opacity) ]
    ] [ hideui $uiname $uisurfacetype ]
]

dynui captureflagoverlay [
    uiallowinput 0
    uimenu 0
    uizindex -1 // draw behind other stuff on this surface
    uistyle centermiddle

    local capture_presence
    capture_presence = (getcapturenum $uiarg1)
    if (>= $capture_presence 0) [
        local capture_opacity
        capture_opacity = 1.0
        uitext $uiarg1
        uipropagate [ uicolourblend (*f $captureflagaboveblend $capture_opacity) ]
    ] [ hideui $uiname $uisurfacetype ]
]