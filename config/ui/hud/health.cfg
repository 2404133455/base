ui_hud_healthbar = [
    ui_hud_health = (getclienthealth $ui_hud_focus)
    if (& $mutators (<< 1 $G_M_INSTAGIB)) [
        ui_hud_healthtext = "INSTA"
    ] [
        ui_hud_healthdiv = (divf $ui_hud_health $damagedivisor)
        if $damageinteger [ ui_hud_healthtext = (toint (ceil $ui_hud_healthdiv)) ] [ ui_hud_healthtext = (precf $ui_hud_healthdiv 1) ]
    ]
    ui_hud_spawnhealth = (getclientspawnhealth $ui_hud_focus)
    ui_hud_healthregen = (getclientregen $ui_hud_focus)
    ui_hud_healthregenlast = (- $lastmillis $ui_hud_healthregen)
    ui_hud_healthregenerating = (<= $ui_hud_healthregenlast $regentime)
    ui_hud_healthpart = (divf $ui_hud_health $ui_hud_spawnhealth)
    if (<f $ui_hud_healthpart $damagecritical) [
        ui_hud_healthhud = (getclientrescolour $ui_hud_focus $PULSE_WARN)
        ui_hud_healthcol = (getclientrescolour $ui_hud_focus $PULSE_WARN)
    ] [
        ui_hud_healthhud = $colourwhite
        ui_hud_healthcol = $colourgreen
    ]

    ui_hud_bar "textures/icons/voices" $colourgreen $ui_hud_healthpart $ui_hud_healthcol $ui_hud_healthtext $ui_hud_healthhud
]

ui_hud_impulsebar = [
    ui_hud_impulseregenmeter = (getclientimpulselastmeter $ui_hud_focus)
    ui_hud_impulseregencount = (getclientimpulselastcount $ui_hud_focus)
    ui_hud_impulsecount = (getclientimpulsecount $ui_hud_focus)
    ui_hud_impulsemoves = (- $impulsecount $ui_hud_impulsecount)
    if (<= $ui_hud_impulsemoves 1) [
        ui_hud_impulsemove = (getclientrescolour $ui_hud_focus $PULSE_WARN)
    ] [
        ui_hud_impulsemove = $colourviolet
    ]

    if (&& $impulsecostmeter (getclientallowimpulse $ui_hud_focus)) [
        ui_hud_impulse = (- $impulsecostmeter (getclientimpulsecostmeter $ui_hud_focus))
        if (> $ui_hud_impulse 0) [
            ui_hud_impulsepart = (clampf (divf $ui_hud_impulse $impulsecostmeter) 0.0 1.0)
        ] [
            ui_hud_impulsepart = 1.0
        ]
        if (<=f $ui_hud_impulsepart 0.25) [
            ui_hud_impulsehud = (getclientrescolour $ui_hud_focus $PULSE_WARN)
            ui_hud_impulsetext = $ui_hud_impulsehud
        ] [
            ui_hud_impulsehud = $colourviolet
            ui_hud_impulsetext = $colourwhite
        ]
    ]
    ui_hud_bar "textures/icons/waiting" $colourviolet $ui_hud_impulsepart $ui_hud_impulsehud (toint (*f (divf $ui_hud_impulse $impulsecostmeter) 100)) $ui_hud_impulsetext $ui_hud_impulsemoves $impulsecount $ui_hud_impulsemove
]
