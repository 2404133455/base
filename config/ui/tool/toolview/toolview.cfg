ui_tool_allowinput = [
    result [
        if $hasinput [
            uihover [
                uiallowinput 1
            ]
        ]
    ]
]

exec "config/ui/tool/toolview/toolbar.cfg"
exec "config/ui/tool/toolview/toolpanel.cfg"
exec "config/ui/tool/toolview/toolwidgets.cfg"
exec "config/ui/tool/toolview/toolinfo.cfg"

toolview_autoscroll = 0

// 1:<time>
tool_autoscroll = [
    local period tension
    period = 5
    tension = 2

    clampf (-f (*f (absf (-f (*f (modf (divf $arg1 $period) 1) 2) 1)) (+f $tension 1)) (*f $tension 0.5)) 0 1
]

rl = [
    clearconsole
    clearlog
    exec config/tool.cfg
    exec config/ui/tool.cfg
]

ui_hud_toolview = [
    tool_proc

    toolview_autoscroll = (tool_autoscroll (divf (getmillis) 1000))

    if $debugruncodestack [
        uitext $runcodestack
    ]

    uifont "tess" [
        uifill (uiaspect) 1
        @@ui_toolbar
        @@ui_toolpanels
        @@ui_toolinfo
    ]
]

toolview_init = [
    toolbar_init
]
