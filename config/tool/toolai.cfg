tool_action ta_ai [
    short_desc "AI panel"
    long_desc "Open the AI panel"
    icon "textures/icons/edit/mesh"
    category "AI"
    action [
        toolpanel_toggle tool_ai right [
            p_title = "AI"
        ]
    ]
]

defvar alwaysshowwaypoints 0 0 1 [
    if (getvar alwaysshowwaypoints) [
        showwaypoints 1
    ]
]

tool_action ta_ai_wpdrop [
    short_desc "Toggle waypoint drop"
    long_desc "Automatic waypoint drop, waypoints are created as the players navigate the map."
    icon "textures/icons/edit/meshdrop"
    category "AI"
    action [
        dropwaypoints (! $dropwaypoints)
        if (!= $tool_action_ctx $TOOL_ACTION_CTX_DEFAULT) [
            tool_info_show_action "Waypoint drop" ta_ai_wpdrop [
                p_subtext = (? $dropwaypoints "Enabled" "Disabled")
            ]
        ]
    ]
]

tool_action ta_ai_wpseldelete [
    short_desc "Delete waypoints in selection"
    long_desc "Removes waypoints contained within selected area"
    icon "textures/icons/edit/meshdel"
    category "AI"
    action [
        delselwaypoints
        tool_info_show_action "Waypoints in selection removed" ta_ai_wpseldelete
    ]
]

tool_action ta_ai_wpdelete [
    short_desc "Delete nearest waypoint"
    long_desc "Delete nearest waypoint"
    icon "textures/icons/edit/meshdel"
    category "AI"
    action [
        delwaypoint
        tool_info_show_action "Nearest waypoint removed" ta_ai_wpdelete
    ]
]

tool_action ta_ai_wpdeleteall [
    short_desc "Delete all waypoints"
    long_desc "Delete all waypoints"
    icon "textures/icons/edit/meshdel"
    category "AI"
    action [
        clearwaypoints
        tool_info_show_action "Waypoints cleared" ta_ai_wpdelete
    ]
]
