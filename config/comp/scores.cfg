newui comp_scoreboard [
    uiclamp 1 1 1 1
    refreshscoreboard

    // Steal autoscroll from edit UI
    gameui_autoscroll = (tool_autoscroll (divf (getmillis) 1000))

    local _header_row _player_row _team _team_name _team_colour _row_count _team_score_format

    gameui_scoreboard_groups_sort
    gameui_scoreboard_mode_specific

    uicolour 0 0 1 [
        uichangeblends 0

        uispace 0.05 0.05 [
            uivlist 0.025 [
                ui_gameui_scoreboard_matchinfo

                if $numscoregroups [
                    uigrid 2 0.025 0 [
                        looplist _group $gameui_scoreboard_groups_sorted [
                            ui_gameui_scoreboard_group $_group
                        ]
                    ]
                ]

                if $numspectators [
                    ui_gameui_scoreboard_spectators
                ]

                if (getmusic 8) [
                    ui_gameui_scoreboard_music
                ]
            ]
        ]
    ]
]
